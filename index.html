<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>store map</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
html, body { height: 100%; margin: 0; }
#map { width: 100%; height: 100vh; }

/* Custom orange circle markers */
.leaflet-marker-icon.circle-marker {
  border-radius: 50%;
  background-color: #EBA35C !important;
  width: 20px;
  height: 20px;
  margin-left: -10px;
  margin-top: -10px;
  border: 2px solid white;
}
</style>
</head>
<body>

<div id="map"></div>

<script>
const stores = [
  { name: "O'Fiach's Irish Pub & Restaurant", lat: 51.02776844577999, lng: 4.481041039370103, address: "Grote Markt 24, 2800 Mechelen" },
  { name: "TÃ¸mmer Catering", lat: 51.06274749843587, lng: 4.6549262682076185, address: "Houwstraat 20, 2580 Putte" },
  { name: "Patrick Foley's Irish Pub and Restaurant", lat: 51.05057746413051, lng: 3.719207776150486, address: "Recollettenlei 10, 9000 Gent" },
  { name: "Delaney's Irish Pub", lat: 51.209686840929905, lng: 3.226991112393724, address: "Burg 8, 8000 Brugge" }
];


// Initialize map
const map = L.map('map');

L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> &copy; <a href="https://carto.com/">CARTO</a>',
  subdomains: 'abcd',
  maxZoom: 19
}).addTo(map);

// Custom orange circle icon
const circleIcon = L.divIcon({ className: 'circle-marker' });

// Add store markers
const markers = [];
stores.forEach(store => {
    const marker = L.marker([store.lat, store.lng], { icon: circleIcon })
        .addTo(map)
        .bindPopup(`<strong>${store.name}</strong>`);
    markers.push(marker);
});

// Fit map to show all markers
const group = new L.featureGroup(markers);
map.fitBounds(group.getBounds().pad(0.2));

// Fix rendering if inside iframe
setTimeout(() => { map.invalidateSize(); }, 500);
</script>

</body>
</html>
